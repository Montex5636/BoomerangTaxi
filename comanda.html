<!DOCTYPE html>
<html lang="ro">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Boomerang Taxi - Comandă Taxi</title>
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&family=Roboto&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <style>
    body {
      font-family:'Roboto', sans-serif;
      background:#0C0F14;
      color:#fff;
      margin:0;
      padding:0;
    }
    header {
      background:#111;
      padding:15px;
    }
    header .logo {
      color:#FFD700;
      font-weight:bold;
      font-size:1.5em;
    }
    .nav-list {
      list-style:none;
      padding:0;
      margin:0;
      display:flex;
      gap:20px;
    }
    .nav-list li a {
      color:#fff;
      text-decoration:none;
    }
    h2,h3 {
      color:#FFD700;
      margin-bottom:10px;
    }
    main {
      padding:20px;
    }
    .form-box {
      max-width:450px;
      margin:30px auto;
      padding:25px;
      background:#1E1E1E;
      border-radius:12px;
      box-shadow:0 0 20px rgba(255,215,0,0.4);
    }
    .form-box h3 {
      text-align:center;
      color:#FFD700;
      margin-bottom:15px;
    }
    .form-group {
      margin-bottom:12px;
    }
    .form-group label {
      display:block;
      margin-bottom:5px;
    }
    .form-group input,
    .form-group select {
      width:100%;
      padding:8px;
      border:none;
      border-radius:6px;
      background:#2C2C2C;
      color:#fff;
    }
    .buttons {
      display:flex;
      gap:10px;
      flex-wrap:wrap;
      margin-top:15px;
    }
    .buttons button {
      flex:1;
      padding:10px;
      border:none;
      border-radius:8px;
      color:#fff;
      font-weight:bold;
      cursor:pointer;
    }
    #send-whatsapp { background:#25D366; }
    #send-telegram-form { background:#0088cc; }
    #openTaxiApp { background:#FFD700; color:#111; margin-top:10px; }
    .price {
      color:#FFD700;
      font-weight:bold;
      text-align:center;
      margin-top:10px;
    }
  </style>
</head>
<body>
<header>
  <nav>
    <div class="logo">Boomerang Taxi</div>
    <ul class="nav-list">
      <li><a href="index.html">Acasă</a></li>
      <li><a href="comanda.html">Rezervarea Auto 24/7</a></li>
      <li><a href="arenda.html">Arendă Auto</a></li>
      <li><a href="excursii.html">Excursii Moldova</a></li>
      <li><a href="legalizare.html">Legalizare Auto în Taxi</a></li>
    </ul>
  </nav>
</header>

<main>
  <h2>Rezervare auto 24/7</h2>
  <p>Completează datele pentru a rezerva rapid un taxi Boomerang.</p>

  <div class="form-box">
    <h3>Detalii Comandă</h3>

    <div class="form-group">
      <label for="name">Nume:</label>
      <input type="text" id="name" placeholder="Nume" required>
    </div>

    <div class="form-group">
      <label for="phone">Telefon:</label>
      <input type="tel" id="phone" placeholder="Ex: 069123456" required pattern="[0-9]{8,}">
    </div>

    <div class="form-group">
      <label for="pickup">Locație plecare:</label>
      <input type="text" id="pickup" placeholder="Ex: Strada Stefan cel Mare 1" required>
    </div>

    <div class="form-group">
      <label for="destination">Destinație:</label>
      <input type="text" id="destination" placeholder="Ex: Aeroport Chișinău" required>
    </div>

    <div class="form-group">
      <label for="distance">Distanța (km):</label>
      <input type="number" id="distance" min="1" value="1" required>
    </div>

    <div class="form-group">
      <label for="rent-time">Ora:</label>
      <input type="time" id="rent-time" required>
    </div>    

    <div class="form-group">
      <label for="location-type">Tip cursă:</label>
      <select id="location-type">
        <option value="oras">În oraș (5 lei/km)</option>
        <option value="inafara">În afara orașului (10 lei/km)</option>
      </select>
    </div>

    <p class="price" id="total-price">Preț total: 42 lei</p>

    <div class="buttons">
      <button id="send-whatsapp">Trimite pe WhatsApp</button>
      <button id="send-telegram-form">Trimite pe Telegram</button>
    </div>

    <button id="openTaxiApp">Deschide aplicația Taxi</button>
  </div>
</main>

<footer>
  <p style="text-align:center; padding:15px;">&copy; 2025 Boomerang Taxi | Toate drepturile rezervate</p>
</footer>

<script>
  const distanceInput = document.getElementById('distance');
  const locationType = document.getElementById('location-type');
  const totalPrice = document.getElementById('total-price');

  function calcPrice() {
    const base = 37;
    const dist = parseInt(distanceInput.value) || 1;
    const type = locationType.value;
    let perKm = type === "oras" ? 5 : 10;
    const price = base + dist * perKm;
    totalPrice.textContent = `Preț total: ${price} lei`;
    return price;
  }

  distanceInput.addEventListener('input', calcPrice);
  locationType.addEventListener('change', calcPrice);

  function buildMessage(price) {
    const name = document.getElementById('name').value.trim();
    const phone = document.getElementById('phone').value.trim();
    const pickup = document.getElementById('pickup').value.trim();
    const destination = document.getElementById('destination').value.trim();
    const dist = distanceInput.value;
    const type = locationType.value === "oras" ? "în oraș" : "în afara orașului";

    if (!name || !phone || !pickup || !destination) {
      alert("Completați toate câmpurile!");
      return null;
    }

    return `Buna, vreau sa comand un taxi.\nNume: ${name}\nTelefon: ${phone}\nDe la: ${pickup}\nPână la: ${destination}\nDistanță: ${dist} km (${type})\nPreț total: ${price} lei`;
  }

  document.getElementById('send-whatsapp').addEventListener('click', () => {
    const price = calcPrice();
    const msg = buildMessage(price);
    if (!msg) return;
    window.open('https://wa.me/37360248885?text=' + encodeURIComponent(msg));
  });

  document.getElementById('send-telegram-form').addEventListener('click', () => {
    const price = calcPrice();
    const msg = buildMessage(price);
    if (!msg) return;
    window.open('https://t.me/daniieell_c?text=' + encodeURIComponent(msg));
  });

  // Butonul Comandă acum → App Store / Play Store
  document.getElementById("openTaxiApp").addEventListener("click", function () {
    const ua = navigator.userAgent || navigator.vendor || window.opera;
    if (/android/i.test(ua)) {
        window.location.href = "https://play.google.com/store/apps/details?id=com.boomerang.taxi";
    } else if (/iPad|iPhone|iPod/.test(ua) && !window.MSStream) {
        window.location.href = "https://apps.apple.com/app/id6737691364"; // înlocuiește cu ID real App Store
    } else {
        alert("Accesează magazinul de aplicații pentru a instala Boomerang Taxi.");
    }
  });

  // Initial price calculation
  calcPrice();
</script>
</body>
</html>
